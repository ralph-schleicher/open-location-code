<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <title>OPEN-LOCATION-CODE</title>
  <style type="text/css">
   *{margin:0;border:0;padding:0}
   body{color:#000;background-color:#fff;font-family:sans-serif;padding:1em;min-width:46em}
   a{color:inherit;background-color:transparent;text-decoration:none}
   table{border-collapse:collapse}
   div.title{padding:1em}
   div.subtitle{padding:1em}
   div.prologue{padding:1em}
   div.epilogue{padding:1em}
   span.category{color:#212121;font-style:italic}
   span.package,span.symbol{color:#212121;font-weight:700;white-space:nowrap}
   span.lambda-list{color:#616161}
   span.lambda-list-keyword{color:#388E3C;white-space:nowrap}
   span.keyword{color:#212121;white-space:nowrap}
   span.variable{color:#212121;font-style:italic;white-space:nowrap}
   span.init-form{white-space:nowrap}
   span.method-specializers{color:#616161}
   span.method-specializer{color:#212121;white-space:nowrap}
   span.method-qualifier{color:#212121;white-space:nowrap}
   span.error{color:#f57c00}
   div.contents{padding:1em}
   div.contents-listing{padding:1em}
   div.contents-listing ul{list-style-type:none}
   @media all and (min-width:68em){div.contents-listing{column-count:2;column-gap:2em}}
   div.definition{padding:1em}
   div.signature{background-color:#F5F5F5;padding:1ex 1em}
   table.signature td.symbol{text-align:left;vertical-align:baseline;white-space:nowrap;padding-right:.5em}
   table.signature td.lambda-list{text-align:left;vertical-align:baseline;width:100%}
   table.signature td.category{text-align:right;vertical-align:baseline;white-space:nowrap;padding-left:1.5em}
   div.documentation{padding:1em}
  </style>
 </head>
 <body>
  <div class="title">
   <h1>OPEN-LOCATION-CODE</h1>
  </div>
  <div class="prologue">
   <pre>Open Location Code is a location encoding system for addresses,
independent of street names and building numbers.

See &lt;https://plus.codes&gt;.</pre>
  </div>
  <div class="contents" id="contents">
   <h2>Contents</h2>
   <div class="contents-listing">
    <ul>
     <li>
      <a href="#y3dmheqc">
       <span class="category">Function</span>
       <span class="symbol">validp</span>
      </a>
     </li>
     <li>
      <a href="#qn7dnavp">
       <span class="category">Function</span>
       <span class="symbol">fullp</span>
      </a>
     </li>
     <li>
      <a href="#szk22wcx">
       <span class="category">Function</span>
       <span class="symbol">shortp</span>
      </a>
     </li>
     <li>
      <a href="#kqbprhb7">
       <span class="category">Function</span>
       <span class="symbol">encode</span>
      </a>
     </li>
     <li>
      <a href="#q4pppx2v">
       <span class="category">Function</span>
       <span class="symbol">decode</span>
      </a>
     </li>
     <li>
      <a href="#p3g4hfwn">
       <span class="category">Function</span>
       <span class="symbol">shorten</span>
      </a>
     </li>
     <li>
      <a href="#ez82qoj7">
       <span class="category">Function</span>
       <span class="symbol">recover</span>
      </a>
     </li>
     <li>
      <a href="#o7wph3hl">
       <span class="category">Condition</span>
       <span class="symbol">code-error</span>
      </a>
     </li>
     <li>
      <a href="#lcgtpovl">
       <span class="category">Condition</span>
       <span class="symbol">code-length-error</span>
      </a>
     </li>
     <li>
      <a href="#h2fqeadf">
       <span class="category">Condition</span>
       <span class="symbol">invalid-code-error</span>
      </a>
     </li>
     <li>
      <a href="#cjataaic">
       <span class="category">Condition</span>
       <span class="symbol">full-code-error</span>
      </a>
     </li>
     <li>
      <a href="#e7bxycan">
       <span class="category">Condition</span>
       <span class="symbol">short-code-error</span>
      </a>
     </li>
     <li>
      <a href="#v724cgay">
       <span class="category">Class</span>
       <span class="symbol">code-area</span>
      </a>
     </li>
     <li>
      <a href="#a2p2jhx7">
       <span class="category">Method</span>
       <span class="symbol">south-west-corner</span>
       <span class="method-specializers">(<span class="method-specializer">code-area</span>)</span>
      </a>
     </li>
     <li>
      <a href="#hlx7cl2z">
       <span class="category">Method</span>
       <span class="symbol">north-east-corner</span>
       <span class="method-specializers">(<span class="method-specializer">code-area</span>)</span>
      </a>
     </li>
     <li>
      <a href="#sswtwhvs">
       <span class="category">Method</span>
       <span class="symbol">center</span>
       <span class="method-specializers">(<span class="method-specializer">code-area</span>)</span>
      </a>
     </li>
     <li>
      <a href="#tgr4fgaz">
       <span class="category">Method</span>
       <span class="symbol">precision</span>
       <span class="method-specializers">(<span class="method-specializer">integer</span>)</span>
      </a>
     </li>
     <li>
      <a href="#lujr82j3">
       <span class="category">Method</span>
       <span class="symbol">precision</span>
       <span class="method-specializers">(<span class="method-specializer">code-area</span>)</span>
      </a>
     </li>
     <li>
      <a href="#kl5ojrwg">
       <span class="category">Method</span>
       <span class="symbol">code-length</span>
       <span class="method-specializers">(<span class="method-specializer">integer</span>)</span>
      </a>
     </li>
     <li>
      <a href="#hukvcjtb">
       <span class="category">Method</span>
       <span class="symbol">code-length</span>
       <span class="method-specializers">(<span class="method-specializer">code-area</span>)</span>
      </a>
     </li>
     <li>
      <a href="#idxtqq8f">
       <span class="category">Method</span>
       <span class="symbol">separator-position</span>
       <span class="method-specializers">(<span class="method-specializer">code-area</span>)</span>
      </a>
     </li>
     <li>
      <a href="#f2ugezdr">
       <span class="category">Method</span>
       <span class="symbol">pad-characters</span>
       <span class="method-specializers">(<span class="method-specializer">code-area</span>)</span>
      </a>
     </li>
    </ul>
   </div>
  </div>
  <div class="dictionary">
   <div class="definition" id="y3dmheqc">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">validp</span></a></td>
	<td class="lambda-list"><span class="lambda-list">(<span class="variable">code</span>)</span></td>
	<td class="category"><span class="category">Function</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>True if an object is a valid sequence of Open Location Code characters.

Argument CODE is an object of any type.

Value is ‘:full’ or ‘:short’ if CODE is a valid full or short Open
Location Code respectively.  Otherwise, value is null.</pre>
    </div>
   </div>
   <div class="definition" id="qn7dnavp">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">fullp</span></a></td>
	<td class="lambda-list"><span class="lambda-list">(<span class="variable">code</span>)</span></td>
	<td class="category"><span class="category">Function</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>True if an object is a valid full Open Location Code.

Argument CODE is an object of any type.

Value is true if CODE is a valid full Open Location Code.
Otherwise, value is null.</pre>
    </div>
   </div>
   <div class="definition" id="szk22wcx">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">shortp</span></a></td>
	<td class="lambda-list"><span class="lambda-list">(<span class="variable">code</span>)</span></td>
	<td class="category"><span class="category">Function</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>True if an object is a valid short Open Location Code.

Argument CODE is an object of any type.

Value is true if CODE is a valid full Open Location Code.
Otherwise, value is null.</pre>
    </div>
   </div>
   <div class="definition" id="kqbprhb7">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">encode</span></a></td>
	<td class="lambda-list"><span class="lambda-list">(<span class="variable">latitude</span> <span class="variable">longitude</span> <span class="lambda-list-keyword">&amp;optional</span> <span class="variable">precision</span>)</span></td>
	<td class="category"><span class="category">Function</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Encode a location into an Open Location Code.

First argument LATITUDE and second argument LONGITUDE denote the
 location in degree angle.  The latitude is clipped to the closed
 interval [-90, 90] and the longitude is normalized to the
 half-closed interval [-180, 180).
Optional third argument PRECISION is the precision of the code.
 Default is five, i.e. a code length of ten digits.

Value is a full Open Location Code (a string).

The relation between precision, code length, and code area size
is depicted in the following table.

   Precision  | Code Length |   Width / m   |  Height / m
 -------------+-------------+---------------+---------------
       1      |      2      | 2218929.9     | 2218929.9
       2      |      4      |  110946.5     |  110946.5
       3      |      6      |    5547.3     |    5547.3
       4      |      8      |     277.4     |     277.4
       5      |     10      |      13.9     |      13.9
       6      |     11      |       3.47    |       2.77
       7      |     12      |       0.867   |       0.555
       8      |     13      |       0.217   |       0.111
       9      |     14      |       0.0542  |       0.0222
      10      |     15      |       0.0135  |       0.00444

The code length is equal to the number of Open Location Code digits.
Pad characters and the separator character ‘+’ are not part of the
code length.  The code area dimensions are calculated with a mean
earth radius of 6356766 m for a code area at the equator.</pre>
    </div>
   </div>
   <div class="definition" id="q4pppx2v">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">decode</span></a></td>
	<td class="lambda-list"><span class="lambda-list">(<span class="variable">code</span>)</span></td>
	<td class="category"><span class="category">Function</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Decode an Open Location Code.

Argument CODE is an Open Location Code (a string).

Primary value is a ‘<a href="#v724cgay"><span class="symbol">code-area</span></a>’ object.  Secondary value is ‘:full’ or
‘:short’ if CODE is a full or short Open Location Code respectively.
If CODE is a full Open Location Code the code area denotes absolute
coordinates.  Otherwise, the code area denotes relative coordinates,
i.e. offset values in the enclosing block.

Signal an ‘<a href="#h2fqeadf"><span class="symbol">invalid-code-error</span></a>’ if CODE is not a valid Open Location
Code.</pre>
    </div>
   </div>
   <div class="definition" id="p3g4hfwn">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">shorten</span></a></td>
	<td class="lambda-list"><span class="lambda-list">(<span class="variable">code</span> <span class="variable">latitude</span> <span class="variable">longitude</span>)</span></td>
	<td class="category"><span class="category">Function</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Remove four, six, or eight digits from the front of a full Open
Location Code given a reference location.

First argument CODE is a full Open Location Code (a string).
Second argument LATITUDE and third argument LONGITUDE denote the
 reference location in degree angle.  The latitude is clipped to
 the closed interval [-90, 90] and the longitude is normalized to
 the half-closed interval [-180, 180).

Value is the short code, or the original full code if the reference
location is too far.

Signal a ‘<a href="#cjataaic"><span class="symbol">full-code-error</span></a>’ if CODE is not a full Open Location Code.</pre>
    </div>
   </div>
   <div class="definition" id="ez82qoj7">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">recover</span></a></td>
	<td class="lambda-list"><span class="lambda-list">(<span class="variable">code</span> <span class="variable">latitude</span> <span class="variable">longitude</span>)</span></td>
	<td class="category"><span class="category">Function</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Recover a full Open Location Code from a short code
and a reference location.

First argument CODE is an Open Location Code (a string).
Second argument LATITUDE and third argument LONGITUDE denote the
 reference location in degree angle.  The latitude is clipped to
 the closed interval [-90, 90] and the longitude is normalized to
 the half-closed interval [-180, 180).

Value is the recovered full code.  If CODE is already a full code,
return CODE as is.

Signal an ‘<a href="#h2fqeadf"><span class="symbol">invalid-code-error</span></a>’ if CODE is not an Open Location
Code.</pre>
    </div>
   </div>
   <div class="definition" id="o7wph3hl">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">code-error</span></a></td>
	<td class="lambda-list"></td>
	<td class="category"><span class="category">Condition</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Base class for all Open Location Code errors.</pre>
    </div>
   </div>
   <div class="definition" id="lcgtpovl">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">code-length-error</span></a></td>
	<td class="lambda-list"></td>
	<td class="category"><span class="category">Condition</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Condition for an invalid Open Location Code length.</pre>
    </div>
   </div>
   <div class="definition" id="h2fqeadf">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">invalid-code-error</span></a></td>
	<td class="lambda-list"></td>
	<td class="category"><span class="category">Condition</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Condition for an invalid Open Location Code.</pre>
    </div>
   </div>
   <div class="definition" id="cjataaic">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">full-code-error</span></a></td>
	<td class="lambda-list"></td>
	<td class="category"><span class="category">Condition</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Condition for an invalid full Open Location Code.</pre>
    </div>
   </div>
   <div class="definition" id="e7bxycan">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">short-code-error</span></a></td>
	<td class="lambda-list"></td>
	<td class="category"><span class="category">Condition</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Condition for an invalid short Open Location Code.</pre>
    </div>
   </div>
   <div class="definition" id="v724cgay">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">code-area</span></a></td>
	<td class="lambda-list"></td>
	<td class="category"><span class="category">Class</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Area covered by an Open Location Code.</pre>
    </div>
   </div>
   <div class="definition" id="a2p2jhx7">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">south-west-corner</span></a></td>
	<td class="lambda-list"><span class="lambda-list">((<span class="variable">object</span>&nbsp;<span class="method-specializer">code-area</span>))</span></td>
	<td class="category"><span class="category">Method</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Return the lower latitude and longitude as multiple values.</pre>
    </div>
   </div>
   <div class="definition" id="hlx7cl2z">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">north-east-corner</span></a></td>
	<td class="lambda-list"><span class="lambda-list">((<span class="variable">object</span>&nbsp;<span class="method-specializer">code-area</span>))</span></td>
	<td class="category"><span class="category">Method</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Return the upper latitude and longitude as multiple values.
The upper bounds are not included in the code area except for
the north pole.</pre>
    </div>
   </div>
   <div class="definition" id="sswtwhvs">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">center</span></a></td>
	<td class="lambda-list"><span class="lambda-list">((<span class="variable">object</span>&nbsp;<span class="method-specializer">code-area</span>))</span></td>
	<td class="category"><span class="category">Method</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Return the center latitude and longitude as multiple values.</pre>
    </div>
   </div>
   <div class="definition" id="tgr4fgaz">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">precision</span></a></td>
	<td class="lambda-list"><span class="lambda-list">((<span class="variable">length</span>&nbsp;<span class="method-specializer">integer</span>))</span></td>
	<td class="category"><span class="category">Method</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Return the precision as a function of the code length.</pre>
    </div>
   </div>
   <div class="definition" id="lujr82j3">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">precision</span></a></td>
	<td class="lambda-list"><span class="lambda-list">((<span class="variable">object</span>&nbsp;<span class="method-specializer">code-area</span>))</span></td>
	<td class="category"><span class="category">Method</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Return the precision of the original code.</pre>
    </div>
   </div>
   <div class="definition" id="kl5ojrwg">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">code-length</span></a></td>
	<td class="lambda-list"><span class="lambda-list">((<span class="variable">precision</span>&nbsp;<span class="method-specializer">integer</span>))</span></td>
	<td class="category"><span class="category">Method</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Return the code length as a function of the precision.</pre>
    </div>
   </div>
   <div class="definition" id="hukvcjtb">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">code-length</span></a></td>
	<td class="lambda-list"><span class="lambda-list">((<span class="variable">object</span>&nbsp;<span class="method-specializer">code-area</span>))</span></td>
	<td class="category"><span class="category">Method</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Return the code length of the original code.</pre>
    </div>
   </div>
   <div class="definition" id="idxtqq8f">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">separator-position</span></a></td>
	<td class="lambda-list"><span class="lambda-list">((<span class="variable">object</span>&nbsp;<span class="method-specializer">code-area</span>))</span></td>
	<td class="category"><span class="category">Method</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Return the position of the separator character in the original code.</pre>
    </div>
   </div>
   <div class="definition" id="f2ugezdr">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">pad-characters</span></a></td>
	<td class="lambda-list"><span class="lambda-list">((<span class="variable">object</span>&nbsp;<span class="method-specializer">code-area</span>))</span></td>
	<td class="category"><span class="category">Method</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Return the number of pad characters in the original code.</pre>
    </div>
   </div>
  </div>
 </body>
</html>
